<?php
require("graph/navbar.inc.php");
require("localSidebar.php");

$p = new PageGenerator(_T("Enroller un téléphone", 'mobile'));
$p->setSideMenu($sidemenu);dhdhdhdhd
$p->display();
echo '<link rel="stylesheet" type="text/css" href="modules/mobile/graph/enrolMobile.css">';


echo "<div class='enrol-form-container'>

    <div class='radio-group'>
            <label>
                <input type='radio' name='mobile_action' value='enrol' checked id='radio_enrol'>
                Enrôler le téléphone
            </label>

            <label>
                <input type='radio' name='mobile_action' value='configure' id='radio_configure'>
                Configurer le téléphone
            </label>
        </div>

    <form method='post' action=''>
        

        <div id='form_enrol'>
            <label for='numero'>Numéro
                <input type='text' id='numero' name='numero' pattern='[0-9]+' required>
            </label>

            <label for='description'>Description
                <input type='text' id='description' name='description'>
            </label>
            
            <label for='groupes'>Groupes
                <select id='groupes' name='groupes'>
                    <option value=''>-- Sélectionner une groupes --</option>
                    <option value='config1'>groupes 1</option>
                    <option value='config2'>groupes 2</option>
                    <option value='config3'>groupes 3</option>
                </select>
            </label>
            <input type='submit' value='+'>

            <label for='configuration'>Configuration
                <select id='configuration' name='configuration'>
                    <option value=''>-- Sélectionner une configuration --</option>
                    <option value='config1'>Configuration 1</option>
                    <option value='config2'>Configuration 2</option>
                    <option value='config3'>Configuration 3</option>
                </select>
            </label>

            <label for='imei'>IMEI
                <input type='text' id='imei' name='imei' pattern='[0-9]+'>
            </label>

            <label for='phone_number'>Numéro de téléphone
                <input type='tel' id='phone_number' name='phone_number' placeholder='+_ (___) ___-__-__'>
            </label>
        </div>

        <div id='form_configure' style='display:none;'>
            <p>Formulaire de configuration (à définir)...</p>
        </div>

        <input type='submit' value='Valider'>
        
    </form>
</div>";

?>

<script>
const radioEnrol = document.getElementById('radio_enrol');
const radioConfigure = document.getElementById('radio_configure');
const formEnrol = document.getElementById('form_enrol');
const formConfigure = document.getElementById('form_configure');

function toggleForms() {
    if (radioEnrol.checked) {
        formEnrol.style.display = 'block';
        formConfigure.style.display = 'none';
    } else if (radioConfigure.checked) {
        formEnrol.style.display = 'none';
        formConfigure.style.display = 'block';
    }
}

radioEnrol.addEventListener('change', toggleForms);
radioConfigure.addEventListener('change', toggleForms);


toggleForms();
</script>















enole mobile.php :

<?php
require("graph/navbar.inc.php");
require("localSidebar.php");

ob_start(); 
?>

<link rel="stylesheet" type="text/css" href="modules/mobile/graph/enrolMobile.css">

<div class='enrol-form-container'>

    <div class='radio-group'>
        <label>
            <input type='radio' name='mobile_action' value='enrol' checked id='radio_enrol'>
            Enrôler le téléphone
        </label>

        <label>
            <input type='radio' name='mobile_action' value='configure' id='radio_configure'>
            Configurer le téléphone
        </label>
    </div>

    <form method='post' action=''>
        <div id='form_enrol'>
            <label for='numero'>Numéro
                <input type='text' id='numero' name='numero' pattern='[0-9]+' required>
            </label>

            <label for='description' class="description-label">Description
                <input type='text' id='description' name='description'>
            </label>

            <div class = 'addGroupebtn'>

                <label for='groupes'>Groupes
                    <select id='groupes' name='groupes'>
                        <option value=''>-- Sélectionner une groupes --</option>
                        <option value='config1'>groupes 1</option>
                        <option value='config2'>groupes 2</option>
                        <option value='config3'>groupes 3</option>
                    </select>
                </label>

                <input type="text" id="addGroupe" placeholder="Créer un groupe">

                <input type='submit' value='Ajouter'>
                
            </div>

            <label for='configuration'>Configuration
                <select id='configuration' name='configuration'>
                    <option value=''>-- Sélectionner une configuration --</option>
                    <option value='config1'>Configuration 1</option>
                    <option value='config2'>Configuration 2</option>
                    <option value='config3'>Configuration 3</option>
                </select>
            </label>

            <label for='imei'>IMEI
                <input type='text' id='imei' name='imei' pattern='[0-9]+'>
            </label>

            <label for='phone_number'>Numéro de téléphone
                <input type='tel' id='phone_number' name='phone_number' placeholder='+_ (___) ___-__-__'>
            </label>
        </div>

        <div id='form_configure' style='display:none;'>
            <p>Formulaire de configuration (à définir)...</p>
        </div>

        <input type='submit' value='Valider'>
    </form>
</div>

<?php

$html = ob_get_clean();


$p = new PageGenerator(_T("Enroller un téléphone", 'mobile'));
$p->setSideMenu($sidemenu);
$p->display();


echo $html;
echo '<script src="modules/mobile/graph/js/mobile.js"></script>';
?>





fake table :
// $mobiles = [
//     [
//         'number' => '0601020304',
//         'description' => 'Actif',
//         'publicip' => '192.168.1.10',
//         'custom1' => 'Autorisé',
//         'custom2' => 'Installé',
//         'custom3' => 'OK',
//         'configurationid' => 12
//     ],
//     [
//         'number' => '0605060708',
//         'description' => 'Inactif',
//         'custom1' => 'Refusé',
//         'custom2' => 'Non installé',
//         'custom3' => 'Erreur',
//         'configurationid' => 7
//     ],

// ];



// $button = new buttonTpl("myButton", "Cliquez ici", "btn-primary", "C'est un bouton", array());
// $button->display();


// // Create a new input template
// $inputTemplate = new InputTpl('username', '/^[a-zA-Z0-9_]{3,20}$/');

// // Create a form element with a description and the input template
// $formElement = new TrFormElement('Username:', $inputTemplate);

// // Set CSS class and ID for the form element
// $formElement->setClass('my-form-class');
// $formElement->setStyle('background-color: #f0f0f0;');
// // Display the form element with default parameters
// $formElement->display();